# discovery-server



#### ุงูู ุงูฺฉู Microservice ฺุณุชุ
ุฏุฑ ุญููุช Microservice Architecture ฺฉ ุณุจฺฉ ูุนูุงุฑ ูุฑูโุงูุฒุงุฑ ุงุณุช ฺฉู ุฏุฑ ุขู ฺฉ ุณุณุชู ุจุฒุฑฺฏ ุจู ูุฌููุนูโุง ุงุฒ ุณุฑูุณโูุง ฺฉูฺฺฉุ ูุณุชูู ู ูุงุจู ุงุณุชูุฑุงุฑ ุฌุฏุงฺฏุงูู ุชูุณู ูโุดูุฏ.

ูุฑ microservice:
- ฺฉ ูุณุฆููุช ูุดุฎุต (Single Responsibility) ุฏุงุฑุฏ

- ูโุชูุงูุฏ ูุณุชูู ุชูุณุนูุ ุชุณุช ู deploy ุดูุฏ

- ูุนูููุงู ุงุฒ ุทุฑู HTTP/REST ุง ูพุงูโุฑุณุงู (Kafka, RabbitMQ) ุจุง ุณุฑูุณโูุง ุฏฺฏุฑ ุงุฑุชุจุงุท ุฏุงุฑุฏ

#### ุชูุงูุช Microservice ุจุง Monolith
| Monolith          | Microservice           |
| ----------------- | ---------------------- |
| ฺฉ ุงูพูฺฉุดู ุจุฒุฑฺฏ  | ฺูุฏ ุณุฑูุณ ฺฉูฺฺฉ         |
| Deploy ฺฉโุฌุง      | Deploy ูุณุชูู           |
| ูุงุจุณุชฺฏ ุดุฏุฏ ุงุฌุฒุง | Loose Coupling         |
| Scale ฺฉู ุณุณุชู    | Scale ูุฑ ุณุฑูุณ ุฌุฏุงฺฏุงูู |


#### ูฺฺฏโูุง ุงุตู Microservice
โ ุงุณุชููุงู ุณุฑูุณโูุง

ูุฑ ุณุฑูุณ ุฏุชุงุจุณ ุฎูุฏุด ุฑุง ุฏุงุฑุฏ (Database per Service)

โ ูุงุจูุช ููุงุณโูพุฐุฑ ุจุงูุง

ููุท ุณุฑูุณ ูพุฑูุตุฑู scale ูโุดูุฏ

โ ุชฺฉููููฺ ูุณุชูู

ูุฑ ุณุฑูุณ ูโุชูุงูุฏ ุจุง ุฒุจุงู ุง ูุฑูโูุฑฺฉ ูุชูุงูุช ููุดุชู ุดูุฏ

โ ู Fault Isolation

ุฎุฑุงุจ ฺฉ ุณุฑูุณ ฺฉู ุณุณุชู ุฑุง ููโุฎูุงุจุงูุฏ


#### ู Microservice ุฏุฑ Spring Boot
ุฏุฑ ูพุฑูฺูโูุง Java ูุนูููุงู ุงุฒ ุงู ุงุจุฒุงุฑูุง ุงุณุชูุงุฏู ูโุดูุฏ:

- ุงูู Spring Boot โ ุณุงุฎุช ุณุฑูุณโูุง

- ู Spring Cloud โ Service Discovery, Config, Gateway

- ู Eureka / Consul โ ุซุจุช ุณุฑูุณโูุง

- ู API Gateway โ ูุฑูุฏ ูุงุญุฏ ุณุณุชู

- ู Feign Client / RestTemplate / WebClient โ ุงุฑุชุจุงุท ุจู ุณุฑูุณโูุง

- ู Docker & Kubernetes โ ุงุณุชูุฑุงุฑ ู ูุฏุฑุช


#### ฺู ุฒูุงู Microservice ุงูุชุฎุงุจ ุฎูุจ ุงุณุชุ
โ ุณุณุชู ุจุฒุฑฺฏ ู ุฏุฑ ุญุงู ุฑุดุฏ

โ ุชูโูุง ุชูุณุนู ูุณุชูู

โ ูุงุฒ ุจู scalability ุจุงูุง

โ ู CI/CD ูู

#### ฺฉ ุชุนุฑู ฺฉูุชุงู ูุฎุตูุต ูุตุงุญุจู
Microservices are a software architecture style where an application is composed of small, independent services that communicate over well-defined APIs and can be developed, deployed, and scaled independently.



#### ู ุงูฺฉู Monolith ฺุณุชุ
ุฏุฑ ุญููุช Monolith ุง Monolithic Architecture ุนู ฺฉ ูุฑูโุงูุฒุงุฑ ุจุฒุฑฺฏ ฺฉู ููู ุงุฌุฒุง ุขู ุฏุฑ ฺฉ ุจุฑูุงูู ูุงุญุฏ ู ฺฉ Deployment ูุฑุงุฑ ุฏุงุฑูุฏ.

ุจู ุฒุจุงู ุณุงุฏู: ููู ฺุฒ ุจุง ูู ุจุณุชู ุดุฏู ู ุจู ูู ูุงุจุณุชู ุงุณุช.


#### ูฺฺฏโูุง Monolith
โ ฺฉูพุงุฑฺฺฏ ุจุงูุง

ฺฉุฏุ ุฏุชุงุจุณ ู ุฑุงุจุท ฺฉุงุฑุจุฑ ูุนูููุงู ุฏุฑ ฺฉ ุจุฑูุงูู ูุณุชูุฏ.

โ ุณุงุฏฺฏ ุฏุฑ ุชูุณุนู ุงููู

ุดุฑูุน ูพุฑูฺู ุณุฑุน ู ุฑุงุญุช ุงุณุชุ ูุงุฒ ุจู ูพฺุฏฺฏ Microservice ูุฏุงุฑุฏ.


โ ฺฉ Deployment

ููู ุชุบุฑุงุช ุจุง ูู deploy ูโุดููุฏ.

#### ูุนุงุจ Monolith
โ ููุงุณโูพุฐุฑ ุณุฎุช

ุจุฑุง ููุงุณโฺฉุฑุฏู ฺฉ ุจุฎุดุ ฺฉู ุณุณุชู ุจุงุฏ scale ุดูุฏ.


โ ุชูุณุนู ฺฉูุฏ ุฏุฑ ูพุฑูฺูโูุง ุจุฒุฑฺฏ

ุชูโูุง ุจุฒุฑฺฏ ููุฒูุงู ุฑู ฺฉ ฺฉุฏ ุจุณ ฺฉุงุฑ ูโฺฉููุฏ โ Merge conflicts ุฒุงุฏ



โ ุชุฃุซุฑ ุฎุทุง

ฺฉ ูุดฺฉู ฺฉูฺฺฉ ูโุชูุงูุฏ ฺฉู ุณุณุชู ุฑุง ูุชููู ฺฉูุฏ.




โ ุชฺฉููููฺ ูุญุฏูุฏ

ฺฉู ุจุฑูุงูู ูุนูููุงู ุจุง ฺฉ ุฒุจุงู/ูุฑูโูุฑฺฉ ููุดุชู ูโุดูุฏ.


#### ุฎูุงุตู:
ุงูู ุงูฺฉู Monolith ุจุฑุง ูพุฑูฺูโูุง ฺฉูฺฺฉ ุง ูุชูุณุท ุนุงู ุงุณุช ู ุฑุงูโุงูุฏุงุฒ ุณุฑุน ุฏุงุฑุฏ.

ู Microservice ุจุฑุง ูพุฑูฺูโูุง ุจุฒุฑฺฏ ู ุชูโูุง ูุชุนุฏุฏ ููุงุณุจ ุงุณุช ฺฉู ูุงุฒ ุจู ููุงุณโูพุฐุฑ ู ุงูุนุทุงู ุฏุงุฑูุฏ.


#### ู ุงูฺฉู Public Cloud ฺุณุชุ โ๏ธ

ุฏุฑ ุญููุช Public Cloud ุจู ูุญู ุงุฌุฑุง ู ูุงูฺฉุช ุฒุฑุณุงุฎุช ุงุดุงุฑู ุฏุงุฑุฏ.

ุนู:
- ุฒุฑุณุงุฎุช (ุณุฑูุฑุ ุดุจฺฉูุ ุงุณุชูุฑุฌ) ูุชุนูู ุจู ฺฉ ุงุฑุงุฆูโุฏููุฏู ุนููู ุงุณุช
- ูุซู: AWS, Azure, Google Cloud
- ููุงุจุน ุจู ุตูุฑุช shared ูู ุงูู ุฏุฑ ุงุฎุชุงุฑ ฺฉุงุฑุจุฑุงู ูุฑุงุฑ ูโฺฏุฑุฏ

๐ ุชูุฑฺฉุฒ Public Cloud ุฑู Where it runs ุงุณุช.

#### ู Cloud-Native ฺุณุชุ ๐ฑ

ุฏุฑ ุญููุช Cloud-Native ฺฉ ุฑูุด ุทุฑุงุญ ู ุชูุณุนู ูุฑูโุงูุฒุงุฑ ุงุณุชุ ูู ูุญู ุงุฌุฑุง.

ุนู:

- ุงูพูฺฉุดู ุงุฒ ุงุจุชุฏุง ุจุฑุง Cloud ุทุฑุงุญ ุดุฏู
- ูุจุชู ุจุฑ:
  - Microservices
  - Containers (Docker)
  - Orchestration (Kubernetes)
  - CI/CD
  - Auto-scaling & resilience
   
  
  ๐ ุชูุฑฺฉุฒ Cloud-Native ุฑู How itโs built ุงุณุช.

#### ุชูุงูุช ุงุตู ุฏุฑ ฺฉ ูฺฏุงู

| Concept       | Public Cloud | Cloud-Native                   |
| ------------- | ------------ | ------------------------------ |
| ฺ ูุณุชุ       | ูุฏู ุฒุฑุณุงุฎุช  | ุณุจฺฉ ูุนูุงุฑ ู ุชูุณุนู             |
| ุชูุฑฺฉุฒ         | ูุญู ุงุฌุฑุง     | ูุญูู ุทุฑุงุญ                     |
| ูุซุงู          | AWS, Azure   | Microservices + Kubernetes     |
| ูุงุจุณุชู ุจู ููุ | ูู ูุฒููุงู    | ูโุชูุงูุฏ ุฑู ูุฑ Cloud ุงุฌุฑุง ุดูุฏ |



#### ูฺฉุชู ููู (ูุตุงุญุจูโุง ๐ก)
You can run a non-cloud-native (monolithic) application on a public cloud,

and you can also build cloud-native applications on private or hybrid clouds.


#### ุชุนุฑู ุฎู ฺฉูุชุงู ุจุฑุง ููฺฉุฏู
Public Cloud = Where your app runs โ๏ธ

Cloud-Native = How your app is built ๐ฑ


#### ุงูู ุงูฺฉู Horizontal Scaling (Scale Out) ฺุณุชุ ๐

ุฏุฑ ุญููุช Horizontal Scaling ุนู:

๐ ุงุถุงููโฺฉุฑุฏู ฺูุฏ instance ุฌุฏุฏ ุงุฒ ฺฉ ุณุฑูุณ ุง ุงูพูฺฉุดู

ุจู ุฌุง ููโุชุฑ ฺฉุฑุฏู ฺฉ ุณุฑูุฑ.

ูุซุงู ุณุงุฏู:
- ุจูโุฌุง ฺฉ ุณุฑูุฑ ููโุชุฑ
- ฺูุฏ ุณุฑูุฑ ูุนููู ุงุถุงูู ูโฺฉูู

ู ุชุฑุงูฺฉ ุจู ุขูโูุง load balance ูโุดูุฏ.

#### ู Vertical Scaling (Scale Up) ฺุณุชุ โฌ๏ธ
ุฏุฑ ุญููุช Vertical Scaling ุนู:

๐ ููโุชุฑ ฺฉุฑุฏู ููุงู ุณุฑูุฑ ููุฌูุฏ

ูุซูุงู:
- ุงูุฒุงุด CPU

- ุงูุฒุงุด RAM

- ุงูุฒุงุด Disk

#### ููุงุณู ุณุฑุน
| ููุน Scaling                | ูุนู                | ูุซุงู                 |
| -------------------------- | ------------------- | -------------------- |
| **Scale Up (Vertical)**    | ููโุชุฑ ฺฉุฑุฏู ฺฉ ุณุฑูุฑ | RAM ุงุฒ 8GB โ 32GB    |
| **Scale Out (Horizontal)** | ุงุถุงูู ฺฉุฑุฏู instance | 1 ุณุฑูุณ โ 5 instance |


#### ฺฉู Horizontal Scaling ุจูุชุฑ ุงุณุชุ
โ ุณุณุชูโูุง Cloud-Native

โ ู Microservices

โ ูุงุฒ ุจู High Availability

โ ู Auto-scaling ุฏุฑ Kubernetes

#### ููุด Eureka ฺุณุชุ ๐งญ
ุฏุฑ ุญููุช Eureka ฺฉ Service Discovery ุงุณุช.

ุนู:

- ูุฑ Microservice ูููุน ุจุงูุง ุขูุฏูุ ุฎูุฏุด ุฑุง ุฏุฑ Eureka ุซุจุช ูโฺฉูุฏ
- ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ IP ู Port ุซุงุจุชุ ุณุฑูุณโูุง ูุงู ููุฏฺฏุฑ ุฑุง ูพุฏุง ูโฺฉููุฏ
- ููุช ฺฉ instance down ุดูุฏุ Eureka ุขู ุฑุง ุงุฒ ูุณุช ุญุฐู ูโฺฉูุฏ

#### ููุด Feign ฺุณุชุ ๐ค

Feign ฺฉ HTTP Client ุณุงุฏูโุดุฏู ุงุณุช.

ุนู:

ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ุณุฑูุณ ุฏฺฏุฑ ุฑุง ูุซู ฺฉ ูุชุฏ Java ุตุฏุง ุจุฒูุฏ
ุจุฏูู ููุดุชู ุฏุณุช RestTemplate ุง WebClient

```java
@FeignClient("user-service")
public interface UserClient {
    @GetMapping("/users/{id}")
    User getUser(@PathVariable Long id);
}

```


#### Eureka + Feign ุจุง ูู ฺู ูโฺฉููุฏุ ๐
Eureka โ ูพุฏุง ูโฺฉูุฏ ุณุฑูุณ ฺฉุฌุงุณุช
Feign โ ุจุง ุขู ุณุฑูุณ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉูุฏ


๐ก Feign ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฒ ุงุทูุงุนุงุช Eureka ุงุณุชูุงุฏู ูโฺฉูุฏ.

#### ุฎูุงุตู ูุตุงุญุจูโุง
Eureka handles service discovery

Feign handles service-to-service communication


#### ูฺฉุชู ุญุฑููโุง (Senior Level)
ุฏุฑ ุณุณุชูโูุง ูุฏุฑู:

ุงูู ุงูฺฉู Eureka ฺฏุงู ุจุง Consul / Kubernetes Service Discovery ุฌุงฺฏุฒู ูโุดูุฏ

ู Feign ูููุฒ ุจุณุงุฑ ูุญุจูุจ ุงุณุช (ุจูโุฎุตูุต ุจุง Resilience4j)